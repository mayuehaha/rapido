<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>-</title>
<link rel="stylesheet" href="style.css" type="text/css" />
<script src="jquery.js"></script>
<script type="text/javascript">
var remaining = 0;
var connected = false;
//We use this function because connect statements resolve their target once, imediately
//not at signal emission so they must be connected once the rCore object has been added to the frame
//! <!--  [ connect slots ] -->
function connectSlots()
{
	if ( !connected ) {
		connected = true;
		rCore.jsOnUserOnline.connect(this, onUserOnline);
		rCore.jsOnUserOffline.connect(this, onUserOffline);
	}
}
//! <!--  [ connect slots ] -->

// å½“æŸä¸ªç”¨æˆ·ä¸Šçº¿ï¼ˆæˆ–è€…å› ä¸ºæˆ‘ä»¬å¹¿æ’­ä¸Šçº¿ä¿¡æ¯è€Œå¾—åˆ°æŸä¸ªç”¨æˆ·åœ¨çº¿ï¼‰ï¼Œåˆ™æ­¤å‡½æ•°è¢«è°ƒç”¨
function onUserOnline(username, ip)
{
	userDiv = $('<div>')
	userDiv.attr('id', 'newDiv')
	userDiv.css('border', '1px solid gray')
	userDiv.appendTo($('#userlist'));
	userDiv.append(username + "_" + ip);
	//alert("online:" + username + ", " + ip);
}

// å½“æŸä¸ªç”¨æˆ·ç¦»çº¿ï¼Œæ­¤å‡½æ•°è¢«è°ƒç”¨
function onUserOffline(ip)
{
	//alert("offline:" + ip);
}

function onBodyLoad()
{
	// ç¦æ­¢é¡µé¢å†…éƒ¨é€‰æ‹©æ–‡å­—
	disableSelection(document.body); //Disable text selection on entire body
	//disableSelection(document.getElementById("mydiv")) //Disable text selection on element with id="mydiv"

	// è¿æ¥ä¿¡å·æ§?
	connectSlots();
	// å¯åŠ¨IpMsgåŠŸèƒ½ï¼Œå¹¿æ’­ä¸Šçº¿æ¶ˆæ¯ï¼Œå¾—åˆ°å½“å‰åœ¨çº¿ç”¨æˆ·åˆ—è¡¨
	rCore.startIpMsg();
}


function disableSelection(target)
{
	if (typeof target.onselectstart!="undefined") //IE route
	{
		// QtWebKit goes this way.
		//alert('1');
		target.onselectstart=function(){return false}
	}
	else if (typeof target.style.MozUserSelect!="undefined") //Firefox route
	{
		//alert('2');
		target.style.MozUserSelect="none";
	}
	else //All other route (ie: Opera)
	{
		//alert('3');
		target.onmousedown=function(){return false}
	}
	//target.style.cursor = "default";
}

function addOnLineUser()
{
	

}
//Sample usages
//disableSelection(document.body) //Disable text selection on entire body
//disableSelection(document.getElementById("mydiv")) //Disable text selection on element with id="mydiv"
</script>
<body onload="onBodyLoad();">

<div class="header_box" onclick= "addOnLineUser()">
	<div class="myself_box">
		<div class="avatar" style="position:relative;left:5px;top:5px;">
			<div class="avatar_box" style="position:absolute; left: 2px; top: 2px">
				<img src="images/avatar.png" width="68" height="68" />
			</div>
			<div class="avatar_box" style="position:absolute; left: 0px; top: 0px">
				<img src="images/avatar_box.png" width="72" height="72" />
			</div>
		</div>
		<div class="info">
			<p>éšèº« <span class="myname">è·¯äººç”?/span></p>
			<p class="mydesc">æˆ‘ä»¬çš„ç›®æ ‡ï¼šæ²¡æœ‰è›€ç‰?..</p>
			<p><img src="images/icon_add.png" />11 <img src="images/icon_add.png" />2 <img src="images/icon_add.png" /></p>
		</div>
	</div>
	<div class="search_box">
		<input id="idSearch" type="text" />
	</div>
</div>

<!-- è¿™é‡Œåº”è¯¥æ˜¯ä¸‰ä¸ªæ°´å¹³æ‘†æ”¾çš„ tab é¡µï¼Œåˆ†åˆ«æ˜?å½“å‰ç”¨æˆ·/ç¾¤ç»„/æœ€è¿‘è”ç³»äººï¼Œç¾¤ç»„å†…éƒ¨åˆåˆ?ç¾?å’?ä¸´æ—¶è®¨è®ºç»?ä¸¤ç§ -->
<div id="userlist">
	<div>user3</div>
</div>

</body>
</html>
